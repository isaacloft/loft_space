// defining variables
var delayed = 0;
var counter = 0;
var stage = document.getElementById("stage");



var tl = new TimelineMax();

window.mobileAndTabletcheck = function() {
  var check = false;
  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);
  return check;
};

// Check if the enabler has been initialised
// if (Enabler.isInitialized()) {
//   init();
// } else {
//   Enabler.addEventListener(studio.events.StudioEvent.INIT,init);
// }

// // JS Polite load.
// function init() {
//   if (Enabler.isPageLoaded()) {
//     loadItem();
//   } else {
//     Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED, loadItem);
//   }
// };


// // setting up init functions
// function loadItem() {
// 	console.log('Enabler initialized');
//   definingClickthroughs();
//   animate();
// }
animate();
// definng clickthroughs
function definingClickthroughs () {
  addEvent("click", stage, onExit);
}

// add in same logic for polite load (test for isLoaded, if not, listen for polite load event)
function onExit(e) {
	Enabler.exit("*** BANNER CLICKTHROUGH ***");
}



function animate(){
	console.log("====| animate called |====");
  tl

  
  .to(['.footer'],0, {opacity:1,onComplete:hats_animation})
  .to(['.bodymovin'], 1, {opacity:1})
  .to(['.copy1'],1, {opacity:1,x:5},"+=1")
  .to(['.tc'],0.75, {opacity:1})

  .to(['.stage'], 0, {opacity:1, onComplete:checkRestart},"+=3.5")


  console.log("Animation length: ", tl.duration());

}

var animationData = 
{"v":"4.10.1","fr":25,"ip":0,"op":375,"w":970,"h":250,"nm":"970x250","ddd":0,"assets":[{"id":"image_0","w":1000,"h":1000,"u":"images/","p":"img_0.png"},{"id":"image_1","w":1000,"h":1000,"u":"images/","p":"img_1.png"},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":2,"nm":"Tasle Texture","parent":2,"refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Tassle 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[-40]},{"t":125}],"ix":10},"p":{"a":0,"k":[442.286,465,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[30,30,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.709,-1.459],[0,0],[0,0],[2.557,-0.793],[0,0],[0,0],[0,0],[-1.46,-4.708],[0,0],[-4.709,1.46],[0,0],[0,0],[0,0],[0,0],[0,0],[1.46,4.709],[0,0]],"o":[[0,0],[0,0],[-0.793,-2.558],[0,0],[0,0],[0,0],[-4.709,1.46],[0,0],[1.46,4.709],[0,0],[0,0],[0,0],[0,0],[0,0],[4.708,-1.46],[0,0],[-1.46,-4.709]],"v":[[21.296,48.582],[15.227,50.465],[-24.951,-79.112],[-31.016,-82.307],[-34.982,-81.077],[6.63,53.13],[0.56,55.012],[-5.321,66.181],[-4.266,69.591],[6.904,75.474],[12.974,73.592],[15.922,83.1],[24.518,80.435],[21.57,70.926],[27.641,69.044],[33.523,57.875],[32.464,54.465]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-541.676,413.002],[458.324,413.002],[458.324,-586.998],[-541.676,-586.998]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-541.676,-586.998],[458.324,-586.998],[458.324,413.002],[-541.676,413.002]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":4,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.986000031116,0.735000011968,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[541.676,586.998],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[52.268,94.636],[7.604,108.484],[-52.268,-96.768],[-14.481,-108.484]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.986000031116,0.735000011968,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[595.086,770.793],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"Hat Texture","parent":4,"refId":"image_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Hat 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[460]},{"t":125}],"ix":10},"p":{"a":0,"k":[445,465,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[30,30,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-85.96,59.305],[83.908,92.343],[85.96,-29.677],[-39.736,-92.343]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.234999997008,0.361000001197,0.475,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[428.407,612.338],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[53.486,80.113],[-99.711,26.587],[-40.478,-80.113],[99.711,-71.534]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.2,0.356999984442,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[288.96,591.529],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[133.52,62.719],[-133.52,123.05],[-67.578,-123.049]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.234999997008,0.361000001197,0.475,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[482.559,544.853],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-133.52,-62.719],[67.577,123.049],[133.52,-123.049]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.2,0.356999984442,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[281.461,544.853],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[460]},{"t":56}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"n":"0p667_1_0p167_0p167","t":8,"s":[733.814,384,0],"e":[699,105,0],"to":[-5.80240631103516,-46.5,0],"ti":[10.9690732955933,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"n":"0p833_0p833_0p333_0","t":34,"s":[699,105,0],"e":[668,384,0],"to":[-10.9690732955933,0,0],"ti":[5.16666650772095,-46.5,0]},{"t":53}],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-60,60,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":17,"s":[0],"e":[360]},{"t":61}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"n":"0p667_1_0p167_0p167","t":17,"s":[219.814,363,0],"e":[185,84,0],"to":[-5.80240631103516,-46.5,0],"ti":[10.9690732955933,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"n":"0p833_0p833_0p333_0","t":43,"s":[185,84,0],"e":[154,363,0],"to":[-10.9690732955933,0,0],"ti":[5.16666650772095,-46.5,0]},{"t":61}],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-40,40,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[360]},{"t":38}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"n":"0p667_1_0p167_0p167","t":58,"s":[727.961,360,0],"e":[693.146,81,0],"to":[-5.80240631103516,-46.5,0],"ti":[10.9690732955933,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"n":"0p833_0p833_0p333_0","t":84,"s":[693.146,81,0],"e":[662.146,360,0],"to":[-10.9690732955933,0,0],"ti":[5.16666650772095,-46.5,0]},{"t":102}],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-40,40,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":360,"ix":10},"p":{"a":0,"k":[496,360,0],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-40,40,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"n":"0p667_1_0p167_0p167","t":6,"s":[321.814,357,0],"e":[359,97,0],"to":[6.19759368896484,-43.3333320617676,0],"ti":[-13.0309267044067,0.5,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"n":"0p833_0p833_0p333_0","t":32,"s":[359,97,0],"e":[400,354,0],"to":[13.0309267044067,-0.5,0],"ti":[-6.83333349227905,-42.8333320617676,0]},{"t":51}],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-125,125,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":1,"op":376,"st":1,"bm":0},{"ddd":0,"ind":6,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[180]},{"t":38}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"n":"0p667_1_0p167_0p167","t":0,"s":[30,365,0],"e":[86,68,0],"to":[9.33333301544189,-49.5,0],"ti":[-17.6666660308838,1,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"n":"0p833_0p833_0p333_0","t":26,"s":[86,68,0],"e":[136,359,0],"to":[17.6666660308838,-1,0],"ti":[-8.33333301544189,-48.5,0]},{"t":45}],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-60,60,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":0,"nm":"Hat 1","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":-26,"s":[0],"e":[578]},{"t":54}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"n":"0p667_1_0p167_0p167","t":18,"s":[482,407,0],"e":[538,110,0],"to":[9.33333301544189,-49.5,0],"ti":[-17.6666660308838,1,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"n":"0p833_0p833_0p333_0","t":43,"s":[538,110,0],"e":[588,401,0],"to":[17.6666660308838,-1,0],"ti":[-8.33333301544189,-48.5,0]},{"t":62}],"ix":2},"a":{"a":0,"k":[406.186,420,0],"ix":1},"s":{"a":0,"k":[-60,60,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Cloud 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[154,79,0],"e":[635,79,0],"to":[41.9702796936035,0,0],"ti":[-38.1963844299316,0,0]},{"t":374}],"ix":2},"a":{"a":0,"k":[307.143,354.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[14.961,0],[4.024,-2.369],[0,2.276],[27.48,0],[0,-27.48],[-0.218,-1.888],[4.287,0],[2.01,-0.475],[28.442,0],[8.998,-17.452],[2.031,0],[0,-26.032],[-0.014,-0.481],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0.485]],"o":[[-5.007,0],[0.296,-2.196],[0,-27.48],[-27.48,0],[0,1.946],[-3.603,-1.773],[-2.155,0],[-2.239,-27.865],[-20.988,0],[-1.963,-0.249],[-26.031,0],[0,0.484],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0.025,-0.479],[0,-14.962]],"v":[[129.439,12.101],[115.718,15.83],[116.17,9.118],[66.414,-40.639],[16.657,9.118],[16.99,14.871],[5.047,12.101],[-1.213,12.829],[-55.214,-36.952],[-103.399,-7.566],[-109.394,-7.942],[-156.528,39.191],[-156.504,40.639],[-104.087,40.639],[-62.284,40.639],[-22.004,40.639],[-6.341,40.639],[27.915,40.639],[32.098,40.639],[102.388,40.639],[104.913,40.639],[156.49,40.639],[156.528,39.191]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-308.747,666.956],[691.253,666.956],[691.253,-333.044],[-308.747,-333.044]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-308.747,-333.044],[691.253,-333.044],[691.253,666.956],[-308.747,666.956]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":4,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[308.747,333.044],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Cloud 2 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[577,253,0],"e":[809,253,0],"to":[38.6666679382324,0,0],"ti":[-38.6666679382324,0,0]},{"t":374}],"ix":2},"a":{"a":0,"k":[728,492,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0.644],[7.214,0],[2.059,-1.358],[10.065,0],[0,-14.667],[0,-0.034],[0,0]],"o":[[0,-7.214],[-2.651,0],[-4.505,-8.254],[-14.667,0],[0,0.034],[0,0],[0.09,-0.619]],"v":[[35.062,11.435],[21.998,-1.626],[14.823,0.523],[-8.503,-13.329],[-35.062,13.228],[-35.06,13.329],[34.922,13.329]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-726.318,515.839],[273.682,515.839],[273.682,-484.161],[-726.318,-484.161]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-726.318,-484.161],[273.682,-484.161],[273.682,515.839],[-726.318,515.839]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":4,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[726.318,484.161],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Cloud 3 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[267,215,0],"e":[453,215,0],"to":[31,0,0],"ti":[-31,0,0]},{"t":374}],"ix":2},"a":{"a":0,"k":[758.75,268.75,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,1.149],[10.689,0],[2.99,-1.89],[16.785,0],[0,-17.576],[-0.433,-2.092],[1.433,0],[1.066,-6.537],[0,0]],"o":[[0,-10.688],[-3.797,0],[-1.204,-16.477],[-17.576,0],[0,2.221],[-1.3,-0.407],[-6.838,0],[0,0],[0.193,-1.094]],"v":[[55.135,21.234],[35.781,1.882],[25.455,4.869],[-6.283,-24.603],[-38.107,7.222],[-37.446,13.702],[-41.561,13.074],[-55.135,24.603],[54.836,24.603]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-764.863,748.323],[235.137,748.323],[235.137,-251.677],[-764.863,-251.677]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-764.863,-251.677],[235.137,-251.677],[235.137,748.323],[-764.863,748.323]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":4,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[764.863,251.677],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Cloud 4 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[727,53,0],"e":[1056,53,0],"to":[54.8333320617676,0,0],"ti":[-54.8333320617676,0,0]},{"t":374}],"ix":2},"a":{"a":0,"k":[758.75,268.75,0],"ix":1},"s":{"a":0,"k":[-60,60,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,1.149],[10.689,0],[2.99,-1.89],[16.785,0],[0,-17.576],[-0.433,-2.092],[1.433,0],[1.066,-6.537],[0,0]],"o":[[0,-10.688],[-3.797,0],[-1.204,-16.477],[-17.576,0],[0,2.221],[-1.3,-0.407],[-6.838,0],[0,0],[0.193,-1.094]],"v":[[55.135,21.234],[35.781,1.882],[25.455,4.869],[-6.283,-24.603],[-38.107,7.222],[-37.446,13.702],[-41.561,13.074],[-55.135,24.603],[54.836,24.603]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-764.863,748.323],[235.137,748.323],[235.137,-251.677],[-764.863,-251.677]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-764.863,-251.677],[235.137,-251.677],[235.137,748.323],[-764.863,748.323]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":4,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[764.863,251.677],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Cloud 5 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":0,"s":[-136,33,0],"e":[226,33,0],"to":[60.3333320617676,0,0],"ti":[-60.3333320617676,0,0]},{"t":374}],"ix":2},"a":{"a":0,"k":[758.75,268.75,0],"ix":1},"s":{"a":0,"k":[-50,50,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,1.149],[10.689,0],[2.99,-1.89],[16.785,0],[0,-17.576],[-0.433,-2.092],[1.433,0],[1.066,-6.537],[0,0]],"o":[[0,-10.688],[-3.797,0],[-1.204,-16.477],[-17.576,0],[0,2.221],[-1.3,-0.407],[-6.838,0],[0,0],[0.193,-1.094]],"v":[[55.135,21.234],[35.781,1.882],[25.455,4.869],[-6.283,-24.603],[-38.107,7.222],[-37.446,13.702],[-41.561,13.074],[-55.135,24.603],[54.836,24.603]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-764.863,748.323],[235.137,748.323],[235.137,-251.677],[-764.863,-251.677]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-764.863,-251.677],[235.137,-251.677],[235.137,748.323],[-764.863,748.323]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":4,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[764.863,251.677],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"bm":0}]};
var anim;

function hats_animation(){

  var params1 = {
    container: document.getElementById('bodymovin'),
    renderer: 'svg',
    loop: false,
    autoplay: true,
    animationData: animationData,
    rendererSettings: {
      scaleMode: 'noScale',
      clearCanvas: true,
      preserveAspectRatio: 'xMidYMid slice',
    progressiveLoad: false, // Boolean, only svg renderer, loads dom elements when needed. Might speed up initialization for large number of elements.
    hideOnTransparent: true //Boolean, only svg renderer, hides elements when opacity reaches 0 (defaults to true)
  }
}

anim = bodymovin.loadAnimation(params1);
anim.setSpeed(1.3);
anim.addEventListener('',rm_bodymovin);

}

function rm_bodymovin(){
  bodymovin.destroy();
  console.log("DSs");
}

function checkRestart(){


  if(counter>-1){
    counter++;

    tl
    .to(['.copy1','.tc','.bodymovin'], 0.5, {opacity:0, onComplete:rm_bodymovin})
    .set('.copy1', {x:-5})

    .to(['.footer'],0, {opacity:1,onComplete:hats_animation})
    .to(['.bodymovin'], 1, {opacity:1})
    .to(['.copy1'],1, {opacity:1,x:5},"+=1")
    .to(['.tc'],0.75, {opacity:1});

  }else{
    console.log('end');
  }

}

function addEvent(evnt, elem, func) {
  if (elem.addEventListener)  // W3C DOM
   elem.addEventListener(evnt,func,false);
  else if (elem.attachEvent) { // IE DOM
   elem.attachEvent("on"+evnt, func);
 }
  else { // No much to do
   elem[evnt] = func;
 }
}
